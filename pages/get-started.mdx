# Get started

## Prerequisites

* yarn `npm i -g yarn` or `corepack enable`

**Node.js 18.x+** version must be installed in your OS.

## Installation

#### Install from source code

1. Clone the repository

```shell
$ git clone https://github.com/stbestichhh/lcs-cloud-storage-server.git
```

2. Install dependencies

```shell
$ yarn install
```

#### Install as NPM package

```shell
$ npm i -g lcs-cloud-storage
```

## Deployment

#### Start the server to production

* From cli

  See [usage instructions](#usage) to find out how to use cli

  ```shell
  $ lcs [options] server|run [options]
  ```

* From source code

  ```shell
  $ yarn build
  $ yarn start:prod
  ```

* Without installing

  Run default configuration

  ```shell
  $ docker build -t lcs-cloud-storage:0.0.2 .
  $ docker run -p <port>:9110 lcs-cloud-storage:0.0.2
  ```

  Override configuration
  ```shell
  $ docker build -t lcs-cloud-storage:0.0.2 .
  $ docker run -e PORT=<port> -e HOST=<host> -e SECRET_KEY=<jwtkey> -e DB_NAME=<dbname> -p <port>:<port> lcs-cloud-storage:0.0.2 node dist/index.js [options] [command]
  ```

  Overriding every enviroment variable is not necessary. Options and command see in [usage](#usage) section.

#### Start server locally

```shell
$ yarn start:dev
```
