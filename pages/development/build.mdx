# Build and Deployment

## Prerequisites

* yarn `npm i -g yarn` or `corepack enable`

**Node.js 18.x+** version must be installed in your OS.

## Build

1. Install dependencies

```shell
$ yarn install
```

2. Build

```shell
$ yarn build
```

## Deployment

* Start server in development mode

```shell
$ yarn start:dev
```

* Start server from development configuration

```shell
$ yarn start
```

* Start the server to production

  _**Requires build!**_

  ```shell
  $ yarn start:prod
  ```

* Deploy server without installing dependencies

  * Run default configuration

    ```shell
    $ docker build -t lcs-cloud-storage:0.0.4 .
    $ docker run -p <port>:9110 lcs-cloud-storage:0.0.4
    ```

  * Override configuration

    ```shell
    $ docker build -t lcs-cloud-storage:0.0.4 .
    $ docker run -e PORT=<port> -e HOST=<host> -e SECRET_KEY=<jwtkey> -e DB_NAME=<dbname> -p <port>:<port> lcs-cloud-storage:0.0.4 node dist/index.js [options] [command]
    ```

  Overriding every enviroment variable is not necessary. Options and command see in [usage](advanced/cli.mdx) section.
